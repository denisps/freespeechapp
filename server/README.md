# FreeSpeechApp Server

Secure WebSocket server for safe communication over untrusted internet.

## Features

- HTTPS/WSS secure communication
- WebSocket-based real-time messaging
- Broadcast and direct messaging support
- Health check endpoint
- Graceful shutdown handling

## Prerequisites

- Node.js (v14 or higher)
- SSL certificates (auto-generated by bootstrap scripts)

## Installation

```bash
npm install
```

## Running the Server

```bash
npm start
```

The server will start on port 8443 by default.

## Environment Variables

- `PORT`: Server port (default: 8443)
- `CERT_PATH`: Path to SSL certificates directory (default: ./certs)

## API

### WebSocket Connection

Connect to: `wss://your-domain:8443`

### Message Types

#### Welcome Message (from server)
```json
{
  "type": "welcome",
  "clientId": "client_1234567890_abc123",
  "timestamp": "2025-11-22T19:00:00.000Z"
}
```

#### Broadcast Message (from client)
```json
{
  "type": "broadcast",
  "content": "Your message here"
}
```

#### Direct Message (from client)
```json
{
  "type": "direct",
  "to": "client_1234567890_abc123",
  "content": "Private message"
}
```

#### Ping/Pong
```json
{
  "type": "ping"
}
```

### Health Check

HTTP GET `/health` returns:
```json
{
  "status": "healthy",
  "timestamp": "2025-11-22T19:00:00.000Z"
}
```
